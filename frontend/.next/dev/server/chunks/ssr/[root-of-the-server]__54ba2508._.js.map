{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chume/Desktop/supermercado/supermercado/frontend/src/lib/api.ts"],"sourcesContent":["// src/lib/api.ts\r\nimport axios from \"axios\";\r\n\r\nconst API_BASE = \"http://localhost:3000\"; // tu backend NestJS\r\n\r\nexport const api = axios.create({\r\n  baseURL: API_BASE,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// ---- Endpoints de autenticación ----\r\nexport const login = (data: { correo: string; contrasena: string }) =>\r\n  api.post(\"/auth/login\", data);\r\n\r\nexport const register = (data: { correo: string; contrasena: string }) =>\r\n  api.post(\"/usuarios\", data);\r\n\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;AACjB;;;;;;AAEA,MAAM,WAAW,yBAAyB,oBAAoB;AAEvD,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,QAAQ,CAAC,OACpB,IAAI,IAAI,CAAC,eAAe;AAEnB,MAAM,WAAW,CAAC,OACvB,IAAI,IAAI,CAAC,aAAa","debugId":null}},
    {"offset": {"line": 81, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chume/Desktop/supermercado/supermercado/frontend/src/components/forms/LoginForm.tsx"],"sourcesContent":["// src/components/forms/LoginForm.tsx\r\n\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { TextField, Button, Box, Typography, Alert } from \"@mui/material\";\r\nimport { api } from \"@/lib/api\";\r\nimport Cookies from \"js-cookie\";\r\nimport { useRouter } from \"next/router\";\r\n\r\nexport default function LoginForm() {\r\n  const [correo, setCorreo] = useState(\"\");\r\n  const [contrasena, setContrasena] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e: React.FormEvent<HTMLFormElement>) => {\r\n    e.preventDefault(); // evita que la página se recargue\r\n    setError(\"\");\r\n    setLoading(true);\r\n\r\n    try {\r\n      const res = await api.post(\"/auth/login\", { correo, contrasena });\r\n\r\n      // Guardamos usuario en cookie para saber que está logueado\r\n      Cookies.set(\"usuario_id\", res.data.usuario.id.toString(), { expires: 1 });\r\n      Cookies.set(\"usuario_correo\", res.data.usuario.correo, { expires: 1 });\r\n\r\n      router.push(\"/home\");\r\n    } catch (err: unknown) {\r\n      setError(\"Credenciales inválidas\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      component=\"form\"\r\n      onSubmit={handleSubmit}\r\n      sx={{\r\n        maxWidth: 400,\r\n        mx: \"auto\",\r\n        mt: 10,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: 2,\r\n        p: 3,\r\n        boxShadow: 3,\r\n        borderRadius: 2,\r\n      }}\r\n    >\r\n      <Typography variant=\"h5\" align=\"center\">\r\n        Iniciar Sesión\r\n      </Typography>\r\n      {error && <Alert severity=\"error\">{error}</Alert>}\r\n\r\n      <TextField\r\n        label=\"Correo\"\r\n        value={correo}\r\n        onChange={(e) => setCorreo(e.target.value)}\r\n        fullWidth\r\n        required\r\n      />\r\n      <TextField\r\n        label=\"Contraseña\"\r\n        type=\"password\"\r\n        value={contrasena}\r\n        onChange={(e) => setContrasena(e.target.value)}\r\n        fullWidth\r\n        required\r\n      />\r\n\r\n      <Button type=\"submit\" variant=\"contained\" fullWidth disabled={loading}>\r\n        {loading ? \"Ingresando...\" : \"Entrar\"}\r\n      </Button>\r\n\r\n      <Button size=\"small\"  color=\"inherit\" variant=\"outlined\" onClick={() => router.push(\"/register\")}>\r\n            Registrarse\r\n          </Button>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,qCAAqC;;;;;;AAGrC;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;AANA;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,oIAAS;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc,IAAI,kCAAkC;QACtD,SAAS;QACT,WAAW;QAEX,IAAI;YACF,MAAM,MAAM,MAAM,iHAAG,CAAC,IAAI,CAAC,eAAe;gBAAE;gBAAQ;YAAW;YAE/D,2DAA2D;YAC3D,mIAAO,CAAC,GAAG,CAAC,cAAc,IAAI,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,QAAQ,IAAI;gBAAE,SAAS;YAAE;YACvE,mIAAO,CAAC,GAAG,CAAC,kBAAkB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;gBAAE,SAAS;YAAE;YAEpE,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAc;YACrB,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,qKAAC,wLAAG;QACF,WAAU;QACV,UAAU;QACV,IAAI;YACF,UAAU;YACV,IAAI;YACJ,IAAI;YACJ,SAAS;YACT,eAAe;YACf,KAAK;YACL,GAAG;YACH,WAAW;YACX,cAAc;QAChB;;0BAEA,qKAAC,oNAAU;gBAAC,SAAQ;gBAAK,OAAM;0BAAS;;;;;;YAGvC,uBAAS,qKAAC,gMAAK;gBAAC,UAAS;0BAAS;;;;;;0BAEnC,qKAAC,gNAAS;gBACR,OAAM;gBACN,OAAO;gBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gBACzC,SAAS;gBACT,QAAQ;;;;;;0BAEV,qKAAC,gNAAS;gBACR,OAAM;gBACN,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gBAC7C,SAAS;gBACT,QAAQ;;;;;;0BAGV,qKAAC,oMAAM;gBAAC,MAAK;gBAAS,SAAQ;gBAAY,SAAS;gBAAC,UAAU;0BAC3D,UAAU,kBAAkB;;;;;;0BAG/B,qKAAC,oMAAM;gBAAC,MAAK;gBAAS,OAAM;gBAAU,SAAQ;gBAAW,SAAS,IAAM,OAAO,IAAI,CAAC;0BAAc;;;;;;;;;;;;AAKxG","debugId":null}},
    {"offset": {"line": 228, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/chume/Desktop/supermercado/supermercado/frontend/src/pages/index.tsx"],"sourcesContent":["// import Image from \"next/image\";\r\n// import { Geist, Geist_Mono } from \"next/font/google\";\r\nimport LoginForm from \"@/components/forms/LoginForm\";\r\n\r\n// const geistSans = Geist({\r\n//   variable: \"--font-geist-sans\",\r\n//   subsets: [\"latin\"],\r\n// });\r\n\r\n// const geistMono = Geist_Mono({\r\n//   variable: \"--font-geist-mono\",\r\n//   subsets: [\"latin\"],\r\n// });\r\n\r\nexport default function LoginPage() {\r\n  return <LoginForm />;\r\n};\r\n\r\n"],"names":[],"mappings":"AAAA,kCAAkC;AAClC,wDAAwD;;;;;;AACxD;;;;;;;AAYe,SAAS;IACtB,qBAAO,qKAAC,4IAAS;;;;;AACnB","debugId":null}}]
}