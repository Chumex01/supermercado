{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MyPC/OneDrive/Desktop/SuperMercado/frontend/src/lib/api.ts"],"sourcesContent":["// src/lib/api.ts\r\nimport axios from \"axios\";\r\n\r\nconst API_BASE = \"http://localhost:3001\"; // tu backend NestJS\r\n\r\nexport const api = axios.create({\r\n  baseURL: API_BASE,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\n// ---- Endpoints de autenticación ----\r\nexport const login = (data: { correo: string; contrasena: string }) =>\r\n  api.post(\"/auth/login\", data);\r\n\r\nexport const register = (data: { correo: string; contrasena: string }) =>\r\n  api.post(\"/usuarios\", data);\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;AACjB;;;;;;AAEA,MAAM,WAAW,yBAAyB,oBAAoB;AAEvD,MAAM,MAAM,qHAAK,CAAC,MAAM,CAAC;IAC9B,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,QAAQ,CAAC,OACpB,IAAI,IAAI,CAAC,eAAe;AAEnB,MAAM,WAAW,CAAC,OACvB,IAAI,IAAI,CAAC,aAAa","debugId":null}},
    {"offset": {"line": 63, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MyPC/OneDrive/Desktop/SuperMercado/frontend/src/lib/auth.ts"],"sourcesContent":["// src/lib/auth.ts\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst TOKEN_KEY = \"token\";\r\n\r\nexport const setToken = (token: string) => {\r\n  Cookies.set(TOKEN_KEY, token, { expires: 1 }); // 1 día\r\n};\r\n\r\nexport const getToken = () => Cookies.get(TOKEN_KEY);\r\n\r\nexport const removeToken = () => {\r\n  Cookies.remove(TOKEN_KEY);\r\n};\r\n"],"names":[],"mappings":"AAAA,kBAAkB;;;;;;;;;AAClB;;;;;;AAEA,MAAM,YAAY;AAEX,MAAM,WAAW,CAAC;IACvB,mIAAO,CAAC,GAAG,CAAC,WAAW,OAAO;QAAE,SAAS;IAAE,IAAI,QAAQ;AACzD;AAEO,MAAM,WAAW,IAAM,mIAAO,CAAC,GAAG,CAAC;AAEnC,MAAM,cAAc;IACzB,mIAAO,CAAC,MAAM,CAAC;AACjB","debugId":null}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MyPC/OneDrive/Desktop/SuperMercado/frontend/src/components/forms/LoginForm.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { TextField, Button, Box, Typography, Alert } from \"@mui/material\";\r\nimport { login } from \"@/lib/api\";\r\nimport { setToken } from \"@/lib/auth\";\r\nimport { useRouter } from \"next/router\";\r\nimport axios from \"axios\";\r\n\r\nexport default function LoginForm() {\r\n  const [correo, setCorreo] = useState(\"\");\r\n  const [contrasena, setContrasena] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const res = await login({ correo, contrasena });\r\n      setToken(res.data.access_token); // guarda JWT\r\n      router.push(\"/home\");\r\n    } catch (err: unknown) {\r\n      if (axios.isAxiosError(err)) {\r\n        setError(err.response?.data?.message || \"Credenciales inválidas ❌\");\r\n      } else {\r\n        setError(\"Error inesperado ❌\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      component=\"form\"\r\n      onSubmit={handleSubmit}\r\n      sx={{\r\n        maxWidth: 400,\r\n        mx: \"auto\",\r\n        mt: 10,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        gap: 2,\r\n        p: 3,\r\n        boxShadow: 3,\r\n        borderRadius: 2,\r\n      }}\r\n    >\r\n      <Typography variant=\"h5\" align=\"center\">\r\n        Iniciar Sesión\r\n      </Typography>\r\n      {error && <Alert severity=\"error\">{error}</Alert>}\r\n      <TextField\r\n        label=\"Correo\"\r\n        value={correo}\r\n        onChange={(e) => setCorreo(e.target.value)}\r\n        fullWidth\r\n      />\r\n      <TextField\r\n        label=\"Contraseña\"\r\n        type=\"password\"\r\n        value={contrasena}\r\n        onChange={(e) => setContrasena(e.target.value)}\r\n        fullWidth\r\n      />\r\n      <Button type=\"submit\" variant=\"contained\" fullWidth disabled={loading}>\r\n        {loading ? \"Ingresando...\" : \"Entrar\"}\r\n      </Button>\r\n      <Button variant=\"text\" onClick={() => router.push(\"/register\")}>\r\n        Crear cuenta\r\n      </Button>\r\n    </Box>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;AANA;;;;;;;;AAQe,SAAS;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,+GAAQ,EAAC;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,+GAAQ,EAAC;IAC7C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,+GAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,+GAAQ,EAAC;IACvC,MAAM,SAAS,IAAA,oIAAS;IAExB,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,MAAM,MAAM,IAAA,mHAAK,EAAC;gBAAE;gBAAQ;YAAW;YAC7C,IAAA,uHAAQ,EAAC,IAAI,IAAI,CAAC,YAAY,GAAG,aAAa;YAC9C,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAc;YACrB,IAAI,qHAAK,CAAC,YAAY,CAAC,MAAM;gBAC3B,SAAS,IAAI,QAAQ,EAAE,MAAM,WAAW;YAC1C,OAAO;gBACL,SAAS;YACX;QACF,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,qKAAC,wLAAG;QACF,WAAU;QACV,UAAU;QACV,IAAI;YACF,UAAU;YACV,IAAI;YACJ,IAAI;YACJ,SAAS;YACT,eAAe;YACf,KAAK;YACL,GAAG;YACH,WAAW;YACX,cAAc;QAChB;;0BAEA,qKAAC,oNAAU;gBAAC,SAAQ;gBAAK,OAAM;0BAAS;;;;;;YAGvC,uBAAS,qKAAC,gMAAK;gBAAC,UAAS;0BAAS;;;;;;0BACnC,qKAAC,gNAAS;gBACR,OAAM;gBACN,OAAO;gBACP,UAAU,CAAC,IAAM,UAAU,EAAE,MAAM,CAAC,KAAK;gBACzC,SAAS;;;;;;0BAEX,qKAAC,gNAAS;gBACR,OAAM;gBACN,MAAK;gBACL,OAAO;gBACP,UAAU,CAAC,IAAM,cAAc,EAAE,MAAM,CAAC,KAAK;gBAC7C,SAAS;;;;;;0BAEX,qKAAC,oMAAM;gBAAC,MAAK;gBAAS,SAAQ;gBAAY,SAAS;gBAAC,UAAU;0BAC3D,UAAU,kBAAkB;;;;;;0BAE/B,qKAAC,oMAAM;gBAAC,SAAQ;gBAAO,SAAS,IAAM,OAAO,IAAI,CAAC;0BAAc;;;;;;;;;;;;AAKtE","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MyPC/OneDrive/Desktop/SuperMercado/frontend/src/pages/index.tsx"],"sourcesContent":["// import Image from \"next/image\";\n// import { Geist, Geist_Mono } from \"next/font/google\";\nimport LoginForm from \"@/components/forms/LoginForm\";\n\n// const geistSans = Geist({\n//   variable: \"--font-geist-sans\",\n//   subsets: [\"latin\"],\n// });\n\n// const geistMono = Geist_Mono({\n//   variable: \"--font-geist-mono\",\n//   subsets: [\"latin\"],\n// });\n\nexport default function LoginPage() {\n  return <LoginForm />;\n};\n\n"],"names":[],"mappings":"AAAA,kCAAkC;AAClC,wDAAwD;;;;;;AACxD;;;;;;;AAYe,SAAS;IACtB,qBAAO,qKAAC,4IAAS;;;;;AACnB","debugId":null}}]
}