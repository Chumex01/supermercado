{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MyPC/OneDrive/Desktop/SuperMercado/frontend/src/services/api.ts"],"sourcesContent":["// src/services/api.ts\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL;\r\n\r\nexport async function apiFetch(endpoint: string, options: RequestInit = {}) {\r\n  const res = await fetch(`${API_URL}/${endpoint}`, {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    ...options,\r\n  });\r\n\r\n  if (!res.ok) {\r\n    const error = await res.text();\r\n    throw new Error(`Error ${res.status}: ${error}`);\r\n  }\r\n\r\n  return res.json();\r\n}\r\n"],"names":[],"mappings":"AAAA,sBAAsB;;;;;AACtB,MAAM;AAEC,eAAe,SAAS,QAAgB,EAAE,UAAuB,CAAC,CAAC;IACxE,MAAM,MAAM,MAAM,MAAM,GAAG,QAAQ,CAAC,EAAE,UAAU,EAAE;QAChD,SAAS;YACP,gBAAgB;QAClB;QACA,GAAG,OAAO;IACZ;IAEA,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,QAAQ,MAAM,IAAI,IAAI;QAC5B,MAAM,IAAI,MAAM,CAAC,MAAM,EAAE,IAAI,MAAM,CAAC,EAAE,EAAE,OAAO;IACjD;IAEA,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 27, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/MyPC/OneDrive/Desktop/SuperMercado/frontend/src/pages/usuarios/index.tsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { apiFetch } from \"@/services/api\";\r\n\r\ninterface Usuario {\r\n  id: number;\r\n  correo: string;\r\n  fecha_creacion: string;\r\n}\r\n\r\nexport default function UsuariosPage() {\r\n  const [usuarios, setUsuarios] = useState<Usuario[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [correo, setCorreo] = useState(\"\");\r\n  const [contrasena, setContrasena] = useState(\"\");\r\n\r\n  // üîπ Cargar usuarios al iniciar\r\n  useEffect(() => {\r\n    cargarUsuarios();\r\n  }, []);\r\n\r\n  const cargarUsuarios = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const data = await apiFetch(\"usuarios/ListarUsuario\");\r\n      setUsuarios(data);\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Error al cargar usuarios\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // üîπ Crear nuevo usuario\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      const data = { correo, contrasena };\r\n      await apiFetch(\"usuarios\", {\r\n        method: \"POST\",\r\n        body: JSON.stringify(data),\r\n      });\r\n      alert(\"Usuario creado con √©xito ‚úÖ\");\r\n      setCorreo(\"\");\r\n      setContrasena(\"\");\r\n      setShowForm(false);\r\n      cargarUsuarios();\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Error al crear usuario ‚ùå\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"2rem\" }}>\r\n      <h1>Usuarios</h1>\r\n\r\n      {/* üîπ Bot√≥n para mostrar/ocultar formulario */}\r\n      <button\r\n        onClick={() => setShowForm(!showForm)}\r\n        style={{\r\n          background: \"#0070f3\",\r\n          color: \"white\",\r\n          padding: \"8px 16px\",\r\n          border: \"none\",\r\n          borderRadius: \"6px\",\r\n          cursor: \"pointer\",\r\n          marginBottom: \"1rem\",\r\n        }}\r\n      >\r\n        {showForm ? \"Cancelar\" : \"‚ûï Nuevo Usuario\"}\r\n      </button>\r\n\r\n      {/* üîπ Formulario de creaci√≥n */}\r\n      {showForm && (\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          style={{\r\n            marginBottom: \"1.5rem\",\r\n            background: \"#f5f5f5\",\r\n            padding: \"1rem\",\r\n            borderRadius: \"8px\",\r\n          }}\r\n        >\r\n          <div style={{ marginBottom: \"8px\" }}>\r\n            <label>Correo:</label>\r\n            <input\r\n              type=\"email\"\r\n              value={correo}\r\n              onChange={(e) => setCorreo(e.target.value)}\r\n              required\r\n              style={{ marginLeft: \"8px\" }}\r\n            />\r\n          </div>\r\n\r\n          <div style={{ marginBottom: \"8px\" }}>\r\n            <label>Contrase√±a:</label>\r\n            <input\r\n              type=\"password\"\r\n              value={contrasena}\r\n              onChange={(e) => setContrasena(e.target.value)}\r\n              required\r\n              style={{ marginLeft: \"8px\" }}\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            style={{\r\n              background: \"green\",\r\n              color: \"white\",\r\n              padding: \"6px 12px\",\r\n              border: \"none\",\r\n              borderRadius: \"6px\",\r\n            }}\r\n          >\r\n            Crear Usuario\r\n          </button>\r\n        </form>\r\n      )}\r\n\r\n      {/* üîπ Tabla de usuarios */}\r\n      {loading ? (\r\n        <p>Cargando usuarios...</p>\r\n      ) : (\r\n        <table border={1} cellPadding={8} style={{ width: \"100%\", borderCollapse: \"collapse\" }}>\r\n          <thead style={{ background: \"#ddd\" }}>\r\n            <tr>\r\n              <th>ID</th>\r\n              <th>Correo</th>\r\n              <th>Fecha creaci√≥n</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {usuarios.map((u) => (\r\n              <tr key={u.id}>\r\n                <td>{u.id}</td>\r\n                <td>{u.correo}</td>\r\n                <td>{new Date(u.fecha_creacion).toLocaleDateString()}</td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}